function getUrlVars(){var a={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(b,c,d){a[c]=d}),a}var mcmp_socket=io.connect("http://saga.cundinamarca.gov.co:3321/MapComparative");if(void 0!==localStorage.id_vista)var mcmp_idvista=localStorage.id_vista.toString();if(getUrlVars().this_map)var mcmp_panel=getUrlVars().this_map;else var mcmp_panel="-1";if(getUrlVars().other_map)var mcmp_panel2=getUrlVars().other_map;else var mcmp_panel2="-2";var mcmp_freshCenter=!0,mcmp_freshZoom=!0;view.on("change:center",function(){var a={Center:view.getCenter(),Zoom:view.getZoom(),id:mcmp_idvista+mcmp_panel2};1==mcmp_freshCenter?mcmp_socket.emit("SetChangueMap",a):mcmp_freshCenter=!0}),view.on("change:resolution",function(){var a={Center:view.getCenter(),Zoom:view.getZoom(),id:mcmp_idvista+mcmp_panel2};1==mcmp_freshZoom?mcmp_socket.emit("SetChangueMap",a):mcmp_freshZoom=!0}),mcmp_socket.on("news",function(){}),mcmp_socket.on("GetChangueMap",function(a){a.id==mcmp_idvista+mcmp_panel&&(mcmp_freshCenter=!1,mcmp_freshZoom=!1,view.setCenter(a.Center),view.setZoom(a.Zoom))});